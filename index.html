<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>bitTycoon</title>
    <script src="https://sad.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <style>
        :root {
            --bg-blue: #161d2d;
            --card-dark: #1f283d;
            --mining-orange: #f97316;
            --energy-green: #22c55e;
            --text-gray: #94a3b8;
        }

        body {
            background-color: var(--bg-blue);
            color: white;
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0; padding: 0;
            overflow: hidden;
            user-select: none;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ± */
        .top-bar {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 20px; background: rgba(0,0,0,0.2);
        }
        .user-meta { display: flex; align-items: center; gap: 10px; }
        .app-icon {
            width: 38px; height: 38px; background: var(--energy-green);
            border-radius: 10px; display: flex; align-items: center;
            justify-content: center; color: black; font-weight: 900; font-size: 20px;
        }
        .stats-area { text-align: right; }
        .crypto-val { color: #facc15; font-weight: bold; font-size: 16px; margin: 0; letter-spacing: 0.5px; }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØµÙØ­Ø§Øª */
        .main-container { height: calc(100vh - 150px); overflow-y: auto; padding: 20px; }
        .page { display: none; }
        .page.active { display: block; }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª (Matrix) ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© 1000056830 */
        .energy-header { text-align: center; color: #38bdf8; font-size: 12px; font-weight: 900; margin-bottom: 12px; }
        .battery-matrix {
            display: grid; grid-template-columns: repeat(8, 1fr); gap: 8px;
            background: #0d1117; padding: 15px; border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.05); margin-bottom: 30px;
        }
        .cell { height: 45px; background: #161d2d; border: 1px solid #2d3748; border-radius: 6px; position: relative; overflow: hidden; }
        .fill {
            position: absolute; bottom: 0; width: 100%; height: 100%;
            background: linear-gradient(180deg, #4ade80 0%, #16a34a 100%);
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
        .action-btn {
            background: linear-gradient(180deg, #fb923c 0%, #f97316 100%);
            color: black; border: none; width: 100%; padding: 16px;
            border-radius: 50px; font-weight: 900; font-size: 14px;
            text-transform: uppercase; cursor: pointer; box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
        }

        /* Ø§Ù„ÙƒØ±ÙˆØª ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯ ÙˆØ§Ù„Ø¥Ø­Ø§Ù„Ø§Øª */
        .contract-card {
            background: var(--card-dark); border-radius: 18px;
            padding: 15px; margin-bottom: 15px; display: flex;
            justify-content: space-between; align-items: center;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ - Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ± */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: #0d1117; height: 80px; display: flex;
            justify-content: space-around; align-items: center;
            border-top: 1px solid #2d3748; padding-bottom: 10px;
        }
        .nav-tab { color: #64748b; text-align: center; font-size: 10px; font-weight: bold; cursor: pointer; }
        .nav-tab.active { color: white; }
        .nav-tab i { display: block; font-size: 22px; margin-bottom: 5px; font-style: normal; }

        /* ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø© - Ø§Ù„ØµÙˆØ±Ø© 1000056834 */
        .wallet-card {
            background: #0284c7; padding: 25px; border-radius: 25px;
            margin-bottom: 20px; position: relative;
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="user-meta">
            <div class="app-icon">B</div>
            <div>
                <div style="font-weight: 900; font-size: 13px;">bitTycoon</div>
                <div style="font-size: 9px; color: var(--text-gray);">ID: 2708945</div>
            </div>
        </div>
        <div class="stats-area">
            <p id="top-balance" class="crypto-val">0.00000000</p>
            <p style="font-size: 9px; color: var(--text-gray); font-weight: 900; margin: 0;">TON BALANCE</p>
        </div>
    </div>

    <div class="main-container">
        <div id="page-dashboard" class="page active">
            <div class="energy-header">ğŸ”‹ ENERGY LEVEL: <span id="energy-txt">0</span>/24</div>
            <div id="matrix" class="battery-matrix"></div>
            <button onclick="switchTab('contracts')" class="action-btn">Mining Contract</button>
        </div>

        <div id="page-contracts" class="page">
            <p style="font-size: 11px; font-weight: 900; color: var(--text-gray); margin-bottom: 15px;">FREE CONTRACTS</p>
            <div class="contract-card">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span style="font-size: 28px;">ğŸ¬</span>
                    <div>
                        <div style="font-weight: 900; font-size: 14px;">Watch Ads</div>
                        <div style="font-size: 10px; color: var(--text-gray);">+1 Battery Unit</div>
                    </div>
                </div>
                <button onclick="triggerAd()" id="adBtn" style="background: #fbbf24; border: none; padding: 8px 18px; border-radius: 10px; font-weight: 900; font-size: 11px;">START</button>
            </div>
        </div>

        <div id="page-referral" class="page" style="text-align: center;">
            <h2 style="font-weight: 900; margin-top: 20px;">Referral</h2>
            <div class="contract-card" style="display: block; padding: 30px; margin-top: 30px;">
                <p style="font-size: 11px; color: var(--text-gray); font-weight: 900; letter-spacing: 2px;">INVITATION CODE</p>
                <p style="font-size: 32px; font-weight: 900; color: #0ea5e9; margin: 15px 0;">41014646</p>
            </div>
            <button class="action-btn" style="background: #22c55e; margin-top: 20px;">Invite Friends</button>
        </div>

        <div id="page-wallet" class="page">
            <div class="wallet-card">
                <p style="font-size: 12px; font-weight: bold; opacity: 0.8;">Total Balance</p>
                <p id="wall-balance" style="font-size: 28px; font-weight: 900; margin: 12px 0;">0.00000000</p>
                <button onclick="alert('Withdrawal in progress...')" style="background: white; color: #0284c7; border: none; padding: 10px 22px; border-radius: 12px; font-weight: 900; font-size: 11px;">WITHDRAW</button>
            </div>
            <div style="text-align: center; font-size: 10px; color: var(--text-gray); font-weight: bold;">
                DEPOSIT ADDRESS (USDT BEP20):<br>TNNFBZEbTgU1q2xKhVBC8CwrbzCmEL3bpX
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div onclick="switchTab('dashboard')" id="nav-dashboard" class="nav-tab active"><i>ğŸ“Š</i>Dashboard</div>
        <div onclick="switchTab('contracts')" id="nav-contracts" class="nav-tab"><i>ğŸ“‹</i>Contracts</div>
        <div onclick="switchTab('referral')" id="nav-referral" class="nav-tab"><i>ğŸ‘¥</i>Referral</div>
        <div onclick="switchTab('wallet')" id="nav-wallet" class="nav-tab"><i>ğŸ‘›</i>Wallet</div>
    </div>

    <script>
        let balance = parseFloat(localStorage.getItem('bt_bal')) || 0;
        let pwr = parseInt(localStorage.getItem('bt_pwr')) || 0;

        function syncUI() {
            document.getElementById('top-balance').innerText = balance.toFixed(8);
            document.getElementById('wall-balance').innerText = balance.toFixed(8);
            document.getElementById('energy-txt').innerText = pwr;
            
            const matrix = document.getElementById('matrix');
            matrix.innerHTML = '';
            for(let i=0; i<24; i++) {
                const div = document.createElement('div');
                div.className = 'cell';
                if(i < pwr) div.innerHTML = '<div class="fill"></div>';
                matrix.appendChild(div);
            }
            localStorage.setItem('bt_bal', balance);
            localStorage.setItem('bt_pwr', pwr);
        }

        // Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        setInterval(() => { if(pwr > 0) { balance += 0.00000005; syncUI(); } }, 1000);
        // Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø·Ø§Ù‚Ø© (Ø¨Ø·Ø§Ø±ÙŠØ© ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚)
        setInterval(() => { if(pwr > 0) { pwr--; syncUI(); } }, 300000);

        function switchTab(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('page-' + id).classList.add('active');
            document.getElementById('nav-' + id).classList.add('active');
        }

        // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (Ø±Ø§Ø¨Ø· Adsgram Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ PlatformID: 19316)
        function triggerAd() {
            const btn = document.getElementById('adBtn');
            btn.disabled = true;
            btn.innerText = "...";

            if (window.Adsgram) {
                const AdController = window.Adsgram.init({ blockId: "19316" });
                AdController.show().then(() => {
                    if(pwr < 24) { pwr++; syncUI(); alert("ğŸ”‹ Energy Charged!"); }
                    btn.disabled = false; btn.innerText = "START";
                }).catch(() => {
                    btn.disabled = false; btn.innerText = "START";
                    alert("Ad failed to load. Please try again within Telegram.");
                });
            }
        }

        window.onload = syncUI;
    </script>
</body>
</html>
