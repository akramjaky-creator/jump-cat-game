<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://adsgram.ai/js-sdk/direct-link.js"></script>
</head>
<body>
    <h2>شاهد الإعلان للحصول على الرصيد</h2>
    <button id="watchAd">اضغط هنا لمشاهدة الإعلان</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // فتح الشاشة بالكامل

        const AdController = window.Adsgram.init({ blockId: "19316" }); // Block ID الخاص بك

        document.getElementById('watchAd').onclick = function() {
            AdController.show().then((result) => {
                // عند انتهاء الإعلان بنجاح
                tg.sendData("ad_watched_successfully");
                tg.close(); // إغلاق الصفحة والعودة للبوت
            }).catch((result) => {
                // في حال إلغاء الإعلان أو حدوث خطأ
                alert("يجب مشاهدة الإعلان كاملاً للحصول على المكافأة");
            });
        };
    </script>
</body>
</html>
