<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JumpCat Gold - Play & Earn</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://sad.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <style>
        body {
            margin: 0; padding: 0; font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
            color: white; overflow: hidden; display: flex; flex-direction: column; align-items: center; height: 100vh;
            user-select: none; -webkit-user-select: none;
        }
        .header { margin-top: 20px; text-align: center; width: 100%; }
        #score { font-size: 45px; font-weight: bold; color: #f7d018; text-shadow: 0 0 15px rgba(247, 208, 24, 0.6); margin-bottom: 5px; }
        .energy-bar-container {
            width: 70%; height: 15px; background: #333; border-radius: 10px; margin: 10px auto; border: 1px solid #555; overflow: hidden;
        }
        #energy-fill {
            width: 100%; height: 100%; background: linear-gradient(90deg, #ffe600, #ff9900);
            border-radius: 8px; transition: width 0.3s;
        }
        .game-area {
            flex-grow: 1; display: flex; justify-content: center; align-items: center; width: 100%; position: relative;
        }
        #cat {
            width: 220px; cursor: pointer; transition: transform 0.1s;
        }
        #cat:active { transform: scale(0.92); }
        .footer {
            width: 100%; display: flex; justify-content: space-around; padding: 25px 0; background: rgba(0,0,0,0.4);
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .btn {
            background: linear-gradient(135deg, #4e4eef, #3a3ad1); border: none; padding: 12px 18px; 
            border-radius: 12px; color: white; font-weight: bold; font-size: 14px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        /* Floating Text Style */
        .float-text {
            position: absolute; color: #f7d018; font-weight: bold; pointer-events: none; font-size: 24px;
            animation: moveUp 0.6s ease-out forwards;
        }
        @keyframes moveUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-120px); opacity: 0; }
        }
    </style>
</head>
<body> 

    <div class="header">
        <div id="score">0</div>
        <div style="font-size: 14px; opacity: 0.8;">Ø¹Ù…Ù„Ø© Ø§Ù„Ù‚Ø·Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</div>
        <div class="energy-bar-container">
            <div id="energy-fill"></div>
        </div>
        <div id="energy-text" style="font-size: 12px;">âš¡ 1000 / 1000</div>
    </div> 

    <div class="game-area" id="click-zone">
        <img id="cat" src="https://img.icons8.com/bubbles/200/cat.png" alt="Jump Cat">
    </div> 

    <div class="footer">
        <button class="btn" onclick="showAd()">ğŸ“º Ø±Ø¨Ø­ Ø³Ø±ÙŠØ¹</button>
        <button class="btn" onclick="showTasks()">ğŸ“‹ Ø§Ù„Ù…Ù‡Ø§Ù…</button>
        <button class="btn" onclick="withdraw()">ğŸ’° Ø³Ø­Ø¨</button>
    </div> 

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø£Ùˆ Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø§Ù„ØµÙØ±
        let points = parseInt(localStorage.getItem('catPoints')) || 0;
        let energy = parseInt(localStorage.getItem('catEnergy')) || 1000;
        const maxEnergy = 1000;

        const scoreEl = document.getElementById('score');
        const energyFill = document.getElementById('energy-fill');
        const energyText = document.getElementById('energy-text');
        const cat = document.getElementById('cat');

        updateUI();

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø± ÙˆØ§Ù„Ù…ÙƒØ§ÙØ£Ø©
        cat.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø²ÙˆÙˆÙ… ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
            if (energy >= 2) {
                points += 1;
                energy -= 2;
                saveData();
                updateUI();
                
                const touch = e.touches[0];
                showFloatingText(touch.clientX, touch.clientY);
                vibrate();
            }
        });

        function updateUI() {
            scoreEl.innerText = points.toLocaleString();
            const energyPercent = (energy / maxEnergy) * 100;
            energyFill.style.width = energyPercent + "%";
            energyText.innerText = `âš¡ ${energy} / ${maxEnergy}`;
        }

        function saveData() {
            localStorage.setItem('catPoints', points);
            localStorage.setItem('catEnergy', energy);
        }

        // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (1 Ø·Ø§Ù‚Ø© ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©)
        setInterval(() => {
            if (energy < maxEnergy) {
                energy += 1;
                saveData();
                updateUI();
            }
        }, 1000);

        function showFloatingText(x, y) {
            const text = document.createElement('div');
            text.className = 'float-text';
            text.innerText = "+1";
            text.style.left = (x - 10) + 'px';
            text.style.top = (y - 40) + 'px';
            document.body.appendChild(text);
            setTimeout(() => text.remove(), 600);
        }

        function vibrate() {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª AdsGram ---
        // Ø§Ø³ØªØ¨Ø¯Ù„ 'YOUR_BLOCK_ID' Ø¨Ø§Ù„Ù…Ø¹Ø±Ù Ø§Ù„Ø°ÙŠ Ø³ØªØ­ØµÙ„ Ø¹Ù„ÙŠÙ‡ Ù…Ù† Ù…ÙˆÙ‚Ø¹ Adsgram.ai
        const AdController = window.Adsgram ? window.Adsgram.init({ blockId: "20473" }) : null;

        function showAd() {
            if (AdController) {
                AdController.show().then((result) => {
                    points += 1000; // Ù…ÙƒØ§ÙØ£Ø© Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                    saveData();
                    updateUI();
                    alert("Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª 1000 Ù†Ù‚Ø·Ø© Ø¥Ø¶Ø§ÙÙŠØ©.");
                }).catch((result) => {
                    alert("Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ØºÙŠØ± Ø¬Ø§Ù‡Ø² Ø­Ø§Ù„ÙŠØ§Ù‹ØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹.");
                });
            } else {
                alert("Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„Ù‡ ÙÙˆØ± Ø±Ø¨Ø· Ø§Ù„Ù€ Block ID");
            }
        }

        function showTasks() { alert("Ù‚Ø±ÙŠØ¨Ø§Ù‹: ØªØ§Ø¨Ø¹ Ù‚Ù†Ø§ØªÙ†Ø§ Ù„ØªØ±Ø¨Ø­ 5000 Ù†Ù‚Ø·Ø©!"); }
        function withdraw() { alert("Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø³Ø­Ø¨ Ù‡Ùˆ 100,000 Ù†Ù‚Ø·Ø©."); }
    </script>
</body>
</html>
